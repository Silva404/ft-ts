{"version":3,"file":"ContextPatch.js","names":["Chunk","_interopRequireWildcard","require","_Data","Equal","Dual","_Context","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ContextPatchTypeId","Symbol","for","exports","variance","a","PatchProto","setPrototypeOf","_Value","_Patch","Structural","EmptyProto","_tag","_empty","create","empty","AndThenProto","makeAndThen","first","second","o","AddServiceProto","makeAddService","tag","service","RemoveServiceProto","makeRemoveService","UpdateServiceProto","makeUpdateService","update","diff","oldValue","newValue","missingServices","Map","unsafeMap","patch","newService","entries","old","delete","equals","combine","dual","self","that","context","wasServiceUpdated","patches","of","updatedContext","isNonEmpty","head","headNonEmpty","tail","tailNonEmpty","prepend","makeContext","map","s"],"sources":["../../src/internal/Differ/ContextPatch.ts"],"sourcesContent":[null],"mappings":"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"}