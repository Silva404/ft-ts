{"version":3,"file":"Context.js","names":["Equal","_interopRequireWildcard","require","_Function","_GlobalValue","Hash","_Inspectable","_Effect","option","_Pipeable","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","TagTypeId","Symbol","for","exports","TagProto","_tag","EffectTypeId","effectVariance","_S","_","_I","symbol","that","random","toString","toJSON","_id","identifier","stack","NodeInspectSymbol","pipe","pipeArguments","arguments","of","self","context","make","tagRegistry","globalValue","Map","makeTag","limit","Error","stackTraceLimit","creationError","tag","create","TypeId","ContextProto","isContext","unsafeMap","size","k","keys","equals","number","services","Array","from","map","makeContext","serviceNotFoundError","error","String","lines","split","length","afterAt","match","message","splice","join","u","isTag","_empty","empty","service","add","dual","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../src/internal/Context.ts"],"sourcesContent":[null],"mappings":"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"}