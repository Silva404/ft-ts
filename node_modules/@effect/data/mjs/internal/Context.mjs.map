{"version":3,"file":"Context.mjs","names":["Equal","dual","globalValue","Hash","NodeInspectSymbol","toJSON","toString","EffectTypeId","effectVariance","option","pipeArguments","TagTypeId","Symbol","for","TagProto","_tag","_S","_","_I","symbol","that","random","_id","identifier","stack","pipe","arguments","of","self","context","make","tagRegistry","Map","makeTag","has","get","limit","Error","stackTraceLimit","creationError","tag","Object","create","defineProperty","set","TypeId","ContextProto","isContext","unsafeMap","size","k","keys","equals","number","services","Array","from","map","makeContext","serviceNotFoundError","error","String","lines","split","length","afterAt","match","message","splice","join","u","isTag","_empty","empty","service","add","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../../src/internal/Context.ts"],"sourcesContent":[null],"mappings":"AACA,OAAO,KAAKA,KAAK,MAAM,oBAAoB;AAC3C,SAASC,IAAI,QAAQ,uBAAuB;AAC5C,SAASC,WAAW,QAAQ,0BAA0B;AACtD,OAAO,KAAKC,IAAI,MAAM,mBAAmB;AACzC,SAASC,iBAAiB,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,0BAA0B;AAC9E,SAA0BC,YAAY,EAAEC,cAAc,QAAQ,8BAA8B;AAE5F,OAAO,KAAKC,MAAM,MAAM,qBAAqB;AAC7C,SAASC,aAAa,QAAQ,uBAAuB;AAErD;AACA,OAAO,MAAMC,SAAS,gBAAgBC,MAAM,CAACC,GAAG,CAAC,0BAA0B,CAAgB;AAE3F;AACA,OAAO,MAAMC,QAAQ,GAAyC;EAC5DC,IAAI,EAAE,KAAK;EACX,CAACR,YAAY,GAAGC,cAAc;EAC9B,CAACG,SAAS,GAAG;IACXK,EAAE,EAAGC,CAAU,IAAKA,CAAC;IACrBC,EAAE,EAAGD,CAAU,IAAKA;GACrB;EACD,CAACjB,KAAK,CAACmB,MAAM,EAAYC,IAAa;IACpC,OAAO,IAAI,KAAKA,IAAI;EACtB,CAAC;EACD,CAACjB,IAAI,CAACgB,MAAM,IAAC;IACX,OAAOhB,IAAI,CAACkB,MAAM,CAAC,IAAI,CAAC;EAC1B,CAAC;EACDf,QAAQA,CAAA;IACN,OAAOA,QAAQ,CAAC,IAAI,CAACD,MAAM,EAAE,CAAC;EAChC,CAAC;EACDA,MAAMA,CAAA;IACJ,OAAO;MACLiB,GAAG,EAAE,KAAK;MACVC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,KAAK,EAAE,IAAI,CAACA;KACb;EACH,CAAC;EACD,CAACpB,iBAAiB,IAAC;IACjB,OAAO,IAAI,CAACC,MAAM,EAAE;EACtB,CAAC;EACDoB,IAAIA,CAAA;IACF,OAAOf,aAAa,CAAC,IAAI,EAAEgB,SAAS,CAAC;EACvC,CAAC;EACDC,EAAEA,CAAUC,IAAa;IACvB,OAAOA,IAAI;EACb,CAAC;EACDC,OAAOA,CAELD,IAAa;IAEb,OAAOE,IAAI,CAAC,IAAI,EAAEF,IAAI,CAAC;EACzB;CACD;AAED,MAAMG,WAAW,gBAAG7B,WAAW,CAAC,sCAAsC,EAAE,MAAM,IAAI8B,GAAG,EAAwB,CAAC;AAE9G;AACA,OAAO,MAAMC,OAAO,GAAsCV,UAAoB,IAAgC;EAC5G,IAAIA,UAAU,IAAIQ,WAAW,CAACG,GAAG,CAACX,UAAU,CAAC,EAAE;IAC7C,OAAOQ,WAAW,CAACI,GAAG,CAACZ,UAAU,CAAE;;EAErC,MAAMa,KAAK,GAAGC,KAAK,CAACC,eAAe;EACnCD,KAAK,CAACC,eAAe,GAAG,CAAC;EACzB,MAAMC,aAAa,GAAG,IAAIF,KAAK,EAAE;EACjCA,KAAK,CAACC,eAAe,GAAGF,KAAK;EAC7B,MAAMI,GAAG,GAAGC,MAAM,CAACC,MAAM,CAAC5B,QAAQ,CAAC;EACnC2B,MAAM,CAACE,cAAc,CAACH,GAAG,EAAE,OAAO,EAAE;IAClCL,GAAGA,CAAA;MACD,OAAOI,aAAa,CAACf,KAAK;IAC5B;GACD,CAAC;EACF,IAAID,UAAU,EAAE;IACdiB,GAAG,CAACjB,UAAU,GAAGA,UAAU;IAC3BQ,WAAW,CAACa,GAAG,CAACrB,UAAU,EAAEiB,GAAG,CAAC;;EAElC,OAAOA,GAAG;AACZ,CAAC;AAED;AACA,OAAO,MAAMK,MAAM,gBAAajC,MAAM,CAACC,GAAG,CAAC,sBAAsB,CAAa;AAE9E;AACA,OAAO,MAAMiC,YAAY,GAA0C;EACjE,CAACD,MAAM,GAAG;IACR7B,EAAE,EAAGC,CAAU,IAAKA;GACrB;EACD,CAACjB,KAAK,CAACmB,MAAM,EAAyBC,IAAa;IACjD,IAAI2B,SAAS,CAAC3B,IAAI,CAAC,EAAE;MACnB,IAAI,IAAI,CAAC4B,SAAS,CAACC,IAAI,KAAK7B,IAAI,CAAC4B,SAAS,CAACC,IAAI,EAAE;QAC/C,KAAK,MAAMC,CAAC,IAAI,IAAI,CAACF,SAAS,CAACG,IAAI,EAAE,EAAE;UACrC,IAAI,CAAC/B,IAAI,CAAC4B,SAAS,CAACd,GAAG,CAACgB,CAAC,CAAC,IAAI,CAAClD,KAAK,CAACoD,MAAM,CAAC,IAAI,CAACJ,SAAS,CAACb,GAAG,CAACe,CAAC,CAAC,EAAE9B,IAAI,CAAC4B,SAAS,CAACb,GAAG,CAACe,CAAC,CAAC,CAAC,EAAE;YACzF,OAAO,KAAK;;;QAGhB,OAAO,IAAI;;;IAGf,OAAO,KAAK;EACd,CAAC;EACD,CAAC/C,IAAI,CAACgB,MAAM,IAAC;IACX,OAAOhB,IAAI,CAACkD,MAAM,CAAC,IAAI,CAACL,SAAS,CAACC,IAAI,CAAC;EACzC,CAAC;EACDxB,IAAIA,CAAA;IACF,OAAOf,aAAa,CAAC,IAAI,EAAEgB,SAAS,CAAC;EACvC,CAAC;EACDpB,QAAQA,CAAA;IACN,OAAOA,QAAQ,CAAC,IAAI,CAACD,MAAM,EAAE,CAAC;EAChC,CAAC;EACDA,MAAMA,CAAA;IACJ,OAAO;MACLiB,GAAG,EAAE,SAAS;MACdgC,QAAQ,EAAEC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACR,SAAS,CAAC,CAACS,GAAG,CAACpD,MAAM;KAChD;EACH,CAAC;EACD,CAACD,iBAAiB,IAAC;IACjB,OAAQ,IAAY,CAACC,MAAM,EAAE;EAC/B;CACD;AAED;AACA,OAAO,MAAMqD,WAAW,GAAcV,SAAoC,IAAyB;EACjG,MAAMnB,OAAO,GAAGY,MAAM,CAACC,MAAM,CAACI,YAAY,CAAC;EAC3CjB,OAAO,CAACmB,SAAS,GAAGA,SAAS;EAC7B,OAAOnB,OAAO;AAChB,CAAC;AAED,MAAM8B,oBAAoB,GAAInB,GAAoB,IAAI;EACpD,MAAMoB,KAAK,GAAG,IAAIvB,KAAK,CAAC,oBAAoBG,GAAG,CAACjB,UAAU,GAAG,KAAKsC,MAAM,CAACrB,GAAG,CAACjB,UAAU,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;EAClG,IAAIiB,GAAG,CAAChB,KAAK,EAAE;IACb,MAAMsC,KAAK,GAAGtB,GAAG,CAAChB,KAAK,CAACuC,KAAK,CAAC,IAAI,CAAC;IACnC,IAAID,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;MACpB,MAAMC,OAAO,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC,SAAS,CAAC;MACzC,IAAID,OAAO,EAAE;QACXL,KAAK,CAACO,OAAO,GAAGP,KAAK,CAACO,OAAO,GAAG,gBAAgBF,OAAO,CAAC,CAAC,CAAC,GAAG;;;;EAInE,IAAIL,KAAK,CAACpC,KAAK,EAAE;IACf,MAAMsC,KAAK,GAAGF,KAAK,CAACpC,KAAK,CAACuC,KAAK,CAAC,IAAI,CAAC;IACrCD,KAAK,CAACM,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBR,KAAK,CAACpC,KAAK,GAAGsC,KAAK,CAACO,IAAI,CAAC,IAAI,CAAC;;EAEhC,OAAOT,KAAK;AACd,CAAC;AAED;AACA,OAAO,MAAMb,SAAS,GAAIuB,CAAU,IAA4B,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI,IAAIzB,MAAM,IAAIyB,CAAC;AAElH;AACA,OAAO,MAAMC,KAAK,GAAID,CAAU,IAA2B,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI,IAAI3D,SAAS,IAAI2D,CAAC;AAEhH,MAAME,MAAM,gBAAGd,WAAW,eAAC,IAAI1B,GAAG,EAAE,CAAC;AAErC;AACA,OAAO,MAAMyC,KAAK,GAAGA,CAAA,KAAwBD,MAAM;AAEnD;AACA,OAAO,MAAM1C,IAAI,GAAGA,CAClBU,GAAM,EACNkC,OAAyB,KACUhB,WAAW,CAAC,IAAI1B,GAAG,CAAC,CAAC,CAACQ,GAAG,EAAEkC,OAAO,CAAC,CAAC,CAAC,CAAC;AAE3E;AACA,OAAO,MAAMC,GAAG,gBAAG1E,IAAI,CAYrB,CAAC,EAAE,CAAC2B,IAAI,EAAEY,GAAG,EAAEkC,OAAO,KAAI;EAC1B,MAAMjB,GAAG,GAAG,IAAIzB,GAAG,CAACJ,IAAI,CAACoB,SAAS,CAAC;EACnCS,GAAG,CAACb,GAAG,CAACJ,GAA8B,EAAEkC,OAAO,CAAC;EAChD,OAAOhB,WAAW,CAACD,GAAG,CAAC;AACzB,CAAC,CAAC;AAEF;AACA,OAAO,MAAMmB,SAAS,gBAAG3E,IAAI,CAG3B,CAAC,EAAE,CAAC2B,IAAI,EAAEY,GAAG,KAAI;EACjB,IAAI,CAACZ,IAAI,CAACoB,SAAS,CAACd,GAAG,CAACM,GAAG,CAAC,EAAE;IAC5B,MAAMmB,oBAAoB,CAACnB,GAAU,CAAC;;EAExC,OAAOZ,IAAI,CAACoB,SAAS,CAACb,GAAG,CAACK,GAAG,CAAS;AACxC,CAAC,CAAC;AAEF;AACA,OAAO,MAAML,GAAG,GAGZyC,SAAS;AAEb;AACA,OAAO,MAAMC,SAAS,gBAAG5E,IAAI,CAG3B,CAAC,EAAE,CAAC2B,IAAI,EAAEY,GAAG,KAAI;EACjB,IAAI,CAACZ,IAAI,CAACoB,SAAS,CAACd,GAAG,CAACM,GAAG,CAAC,EAAE;IAC5B,OAAO/B,MAAM,CAACqE,IAAI,EAAE;;EAEtB,OAAOrE,MAAM,CAACsE,IAAI,CAACnD,IAAI,CAACoB,SAAS,CAACb,GAAG,CAACK,GAAG,CAAS,CAAC;AACrD,CAAC,CAAC;AAEF;AACA,OAAO,MAAMwC,KAAK,gBAAG/E,IAAI,CAGvB,CAAC,EAAE,CAAC2B,IAAI,EAAER,IAAI,KAAI;EAClB,MAAMqC,GAAG,GAAG,IAAIzB,GAAG,CAACJ,IAAI,CAACoB,SAAS,CAAC;EACnC,KAAK,MAAM,CAACR,GAAG,EAAEyC,CAAC,CAAC,IAAI7D,IAAI,CAAC4B,SAAS,EAAE;IACrCS,GAAG,CAACb,GAAG,CAACJ,GAAG,EAAEyC,CAAC,CAAC;;EAEjB,OAAOvB,WAAW,CAACD,GAAG,CAAC;AACzB,CAAC,CAAC;AAEF;AACA,OAAO,MAAMyB,IAAI,GACfA,CAAuD,GAAGC,IAAO,KAChEvD,IAAyB,IAEtB;EACF,MAAMwD,MAAM,GAAG,IAAIC,GAAG,CAAUF,IAAI,CAAC;EACrC,MAAMG,MAAM,GAAG,IAAItD,GAAG,EAAE;EACxB,KAAK,MAAM,CAACQ,GAAG,EAAEyC,CAAC,CAAC,IAAIrD,IAAI,CAACoB,SAAS,CAACuC,OAAO,EAAE,EAAE;IAC/C,IAAIH,MAAM,CAAClD,GAAG,CAACM,GAAG,CAAC,EAAE;MACnB8C,MAAM,CAAC1C,GAAG,CAACJ,GAAG,EAAEyC,CAAC,CAAC;;;EAGtB,OAAOvB,WAAW,CAAqD4B,MAAM,CAAC;AAChF,CAAC;AAEH;AACA,OAAO,MAAME,IAAI,GACfA,CAAuD,GAAGL,IAAO,KAChEvD,IAAyB,IAEtB;EACF,MAAM0D,MAAM,GAAG,IAAItD,GAAG,CAACJ,IAAI,CAACoB,SAAS,CAAC;EACtC,KAAK,MAAMR,GAAG,IAAI2C,IAAI,EAAE;IACtBG,MAAM,CAACG,MAAM,CAACjD,GAAG,CAAC;;EAEpB,OAAOkB,WAAW,CAAC4B,MAAM,CAAC;AAC5B,CAAC"}